<div class="z-0 flex justify-center items-center relative h-full w-full border  overflow-hidden flex-col gap-2  ">

  <div class=" max-w-[500px]  min-h-[200px] shadow shadow-slate-600 rounded-lg relative
  w-2/3 flex gap-5 items-center flex-col pb-5">
    <div class=" w-full p-2  border-b border-slate-400 ">

      <!-- Multiselect -->
      <ng-multiselect-dropdown placeholder="Seleccione" [settings]="dropdownSettings" [data]="dropdownList"
        [(ngModel)]="selectedItems" (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)  "
        class="w-[250px] text-sm">
      </ng-multiselect-dropdown>
      <p *ngIf="controlMultiselect.hasError && selectedItems.length === 0" class="text-yellow-700 mt-2 text-xs italic">
        {{ controlMultiselect.getError("items") }}
      </p>
    </div>

    <!-- Date -->
    <form class="flex flex-col gap-4">
      <div>
        <input #date [formControl]="controlDate" class="rounded-md shadow shadow-slate-400 border-spacing-1 p-2"
          type="date" />
        <p *ngIf="controlDate.hasError" class="text-red-500 text-xs mt-1 italic">
          {{ controlDate.getError("fecha") }}
        </p>
      </div>
      <button [disabled]="resultApi && resultApi.state === DataState.LOADING"
        class="cursor-pointer flex justify-center btn bg-[#095595] text-white p-2 rounded-md hover:bg-blue-500 disabled:bg-[#095595] disabled:cursor-not-allowed disabled:opacity-50"
        type="button" (click)="onSubmit()" value="Ejecutar">
        <app-spinner *ngIf="resultApi &&  resultApi.state === DataState.LOADING"></app-spinner> Ejecutar</button>
    </form>
  </div>

  <ng-container *ngIf="resultApi" [ngSwitch]="resultApi.state" class="flex justify-center">
    <ng-container *ngSwitchCase="DataState.LOADED">
      <app-success-box [listItems]="resultApi.data!"></app-success-box>
    </ng-container>
    <ng-container *ngSwitchCase="DataState.ERROR">
      <app-danger [title]="resultApi.error"></app-danger>
    </ng-container>
  </ng-container>

</div>






<!-- <div *ngIf="resultApi" id="toast-success"
      class="flex items-center  flex-col gap-y-2 h-auto w-[500px]  p-2  text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"
      role="alert">
      <div  *ngFor="let item of [1,2,3,4,5,6,7,8,9,10,11]" class=" flex w-full">
        <div *ngIf="item%2==0"
          class=" inline-flex items-center justify-center flex-shrink-0 w-5 h-5 text-green-500 bg-green-100 rounded-md dark:bg-green-800 dark:text-green-200">
          <svg aria-hidden="true" class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"></path>
          </svg>
          <span class="sr-only">Check icon</span>
        </div>
        <div *ngIf="item%2!=0"
          class=" inline-flex items-center justify-center flex-shrink-0 w-5 h-5 text-red-500 bg-red-100 rounded-md dark:bg-red-800 dark:text-red-200">
          <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd"></path>
          </svg>
          <span class="sr-only">Error icon</span>
        </div>

        <div class="ml-3 text-xs font-normal">LA_USUARIO EJECUTADO CORRECTAMENTE.</div>
      </div>

    </div> -->

<!-- Porcentaje de carga de informacion -->
<!-- <app-progress-bar class="w-2/4 md:w-1/2 "></app-progress-bar> -->
<!-- <div class="w-[500px] border-red-500 flex items-center">
    <div class="w-full bg-gray-200 rounded-full h-7 mb-4 dark:bg-gray-700">
      <div
        class="bg-green-600 h-7 rounded-full dark:bg-green-500 p-1 text-xs md:text-sm"
        [style]="timeValues == 0 ? 'padding:0' : ''"
        [ngStyle]="{ width: timeValues + '%' }"
      >
        {{ timeValues }}%
      </div>
    </div>
  </div> -->